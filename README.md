# AndroidLabs

первом запуске) предупредить пользователя о том, что ваше приложение будет собирать и обрабатывать его персональные данные.

■ Google не запрещает распространять ваши Android-приложения через другие каналы (например, через собственный сайт). Но если вы распространяете какое- либо приложение через Google Play, вам запрещено использовать другие каналы для продажи этого приложения.

■ Старайтесь создавать качественные приложения. На страницах Google Play работает система рейтинга, и скачавшие вашу программу пользователи могут оценить ее по пятибалльной шкале. Если оценка будет слишком низкой, это отрицательно скажется на продажах приложения.

■ Продавая свое приложение, вы предоставляете пользователю неэксклюзивное право использовать ваш продукт на его устройстве. Но если такого короткого соглашения мало, вы можете написать отдельное пользовательское соглашение (End User Licence Agreement, EULA). 

■ Вы не можете в названии приложения использовать слово «Android», также запрещено использовать логотип Android. Вместо «Android» нужно писать <for Android». Например, «Android WordProcessor» это неправильное название. Правильное выглядит так: «WordProcessor for Android». Подробную информацию вы можете получить по адресу: http://developer.android.com/distribute/tools/promote/brand.html.

17.3. Теория и практика

Теоретически все просто: написали приложение, опубликовали на Google Play и получаете оплату за каждую загрузку, попивая коктейль на каких-то островах. Мечта фрилансера. Но на практике все не так радужно.

Действительно, вы можете опубликовать приложение на Google Play. Но, скорее всего, ваше приложение не уникально, и найдутся тысячи других почти аналогич- ных приложений. Уникальными сегодня могут быть только узкоспециализирован- ные приложения, на которых также много денег не заработаешь, если не считать случаев, когда такие приложения создаются под определенного клиента, который готов расстаться с несколькими тысячами или даже десятками тысяч евро, именно столько может стоить разработка приложения под заказ.

Чтобы ваше приложение было выбрано пользователями, оно должно быть популярнее, чем другие аналогичные приложения. Заметьте, не лучше, а именно популярнее. Ваше приложение может быть лучше всех аналогов, но его никто не купит если о нем не будет всем известно.

Как Google Play определяет популярность приложения? Все просто: по количеству установок. Если у какого-то приложения миллион установок (на самом деле это немного), а у вашего всего тысяча, сами понимаете, оно окажется где-то в конце списка приложений его категории, ведь между вашим и самым популярным (миллион!) будет еще множество других, более популярных приложений.

В итоге получается замкнутый круг пока приложение не станет популярным, вы не сможете на нем заработать. А как же оно может стать популярным, если площадка, призванная распространять его, не способствует росту популярности? Это как с трудоустройством после университета все хотят сотрудников с опытом работы, но где его взять, если без опыта на работу не берут?

Получается, что загрузить на Google Play приложение можно, но вот раскручивать его придется своими силами. A Google Play будет только принимать оплату за приложение. Вот некоторые рекомендации по раскрутке приложений: 

■ Расскажите о приложении на профильных форумах, на форумах, посвященных мобильным приложениям, там, где обсуждаются другие подобные программы, на всевозможных универсальных IT-форумах. Один из самых популярных ресурсов в нашей стране - 4pda.ru.

■ Используйте гостевые посты в блогах для размещения информации о своем приложении. Будьте готовы, что в большинстве случаев размещение гостевых постов - платное.

■ Напишите статью и разместите ее на ресурсах, где обсуждаются мобильные приложения. Если не умеете красиво писать, попросите, и вам помогут - как правило, на таких ресурсах есть собственные авторы, принимающие заказы на статьи. Разумеется, все это (и написание статьи, и ее размещение) - не бесплатно.

■ Создайте бесплатную версию своей программы с ограниченным функционалом - так пользователи смогут познакомиться с вашим приложением. Некоторые пользователи устанавливают только бесплатные программы, но если им понравится ваша программа, и они захотят получить расширенный функционал, они ее купят.

■ Если у вас еще нет сайта для вашей программы, создайте его и занимайтесь его раскруткой. На сайте обязательно разместите ссылки на Google Play, чтобы пользователи могли скачать ваше приложение.

■ Есть и не вполне честные методы раскрутки. Некоторые сервисы (не буду упо- минать их в книге) предлагают за определенную плату обеспечить определенное количество установок вашего продукта. Если он бесплатный, то вы платите только за установку а если платный то можно оплачивать установку + стоимость самого продукта. Один из самых дешевых сервисов просит 1 доллар США за одну установку, если она без отзыва. Если установка с отзывом - чуть более трех долларов. Вот и считайте сами, насколько это рентабельно. Чтобы набрать 1 миллион установок, нужно заплатить 1 миллион долларов. Целесообразность сомнительная.

■ Используйте средства мониторинга ваших позиций в Google Play. В качестве примера можно привести https://www.appannie.com. Такие сервисы тоже платные, но они дают вам возможность оценить, насколько эффективным оказалось ваше то или иное решение. Приведу пример: вы разместили на каком-либо ресурсе статью за 500 долларов (гипотетическая стоимость размещения) и получили 1000 дополнительных (в добавок к обычному вашему уровню) установок сразу после ее размещения и еще 400 на протяжении трех следующих дней. Получается, что стоимость одной установки вам обошлась в 35 центов, что выгоднее, чем оплачивать «искусственные» установки. А если приложение платное и стоит, например, 1 доллар, вы заработали 1400 х 0,7 = 980 долларов (без вычета налогов), т.е. полностью окупили размещение статьи. С другой стороны, если вы получили всего 200-300 установок, то можете на этом ресурсе статьи более не размещать, - это оказалось не выгодно. Поэтому средства мониторинга очень полезны.

17.4. Регистрация аккаунта разработчика

Чтобы зарегистрировать аккаунт разработчика Android, вам понадобятся 25 долла- ров (именно столько стоит аккаунт с правом публикации приложений) и аккаунт Google (его можно получить, зарегистрировавшись на www.gmail.com), но он уже у вас, скорее всего, есть.

Весь процесс создания аккаунта разработчика состоит из трех этапов: создания аккаунта, оплаты взноса в 25 долларов и принятия соглашения о распространении ПО через Google Play. Соглашение можно прочитать прямо сейчас: https://play.google.com/about/developer-distribution-agreement.html.

Итак, представим, что Google-аккаунт и заветные 25 долларов у вас имеются. Перейдите по ссылке https://play.google.com/apps/publish/signup/ для регистрации аккаунта разработчика.

Процесс регистрации предельно прост - вам нужно будет указать свое имя, телефон и сайт. Все эти поля являются обязательными для заполнения. После ввода личных данных нужно заплатить регистрационный взнос с помощью Google Checkout. Пока вы не заплатите 25 долларов, вы не получите доступ к консоли разработчика. Когда же взнос уплачен, открыть консоль управления можно по ссылке: https://play.google.com/apps/publish/.

Интерфейс консоли управления предельно прост с ним без проблем разберется любой, кто освоил создание приложений для Android.

17.5. Подготовка приложения к продаже

17.5.1. Тестирования на разных устройствах

Обязательно убедитесь, что ваше приложение нормально работает на разных смартфонах. Для этого понадобится несколько устройств различных производителей, желательно с разной версией Android и разными разрешениями экрана. Где взять смартфоны? Один из вариантов купить. Второй вариант — одолжить их у друзей. Одно только можно сказать: не стоит выкладывать ваше приложение на Google Play, если оно не протестировано хотя бы на 3-4 смартфонах разных производителей. Желательно также проверить его не только на смартфонах, но и на планшетах, поскольку они отличаются от смартфонов разрешением экрана.

17.5.2. Поддержка другого размера экрана

Не забудьте проверить, как выглядит ваше приложение на экране, размер которого отличается от размера экрана эмулятора по умолчанию. Здесь все намного проще: создайте несколько эмуляторов с разными размерами экрана и запустите приложе- ние на каждом из них.

17.5.3. Локализация

Чтобы расширить аудиторию вашего приложения и, следовательно, больше зарабо- тать на нем, нужно выполнить локализацию, т. е. перевод приложения на разные языки.

С технической точки зрения, выполнить локализацию достаточно просто. Создайте в каталоге res несколько каталогов values": values-en - для английского языка,values-de- для немецкого и т. д. Затем скопируйте в эти каталоги оригинальный файл strings.xml из res/values. Ясно, что локализацией нужно заниматься, когда приложение уже создано, все ошибки исправлены, и больше не планируется добавлять в файл strings.xml новые строковые ресурсы. 

Затем в настройки приложения добавляете параметр Язык (Language), позволяющий выбрать язык. Выбранный язык будет сохраняться с помощью предпочтений. При запуске приложения оно проверяет предпочтение и загружает соответствующие строковые ресурсы.

Кроме строковых ресурсов не забудьте также локализировать изображения (из каталогов res/drawable-*) - если они содержат надписи, и меню приложення. Вот только, чтобы не опростоволоситься, привлеките профессионального пере- водчика, который и выполнит перевод файлов strings.xml для каждого языка. Воз- можно, понадобится несколько переводчиков.

17.5.4. Значок приложения

Весьма часто начинающие разработчики забывают изменить значок приложения. Согласитесь, коммерческое приложение за 5-10 долларов со значком по умолчанию выглядит, по меньшей мере, смешно. Изменить значок приложения очень просто. Подготовьте файл значка и поместите его в каталог res/drawable. Затем измените атрибут android:icon элемента <application> в файле манифеста:

<application anroid: icon-"@drawable/my_icon"...

17.5.5. Подготовка АРК-файла к загрузке

Прежде чем вы опубликуете свой АРК-файл на Google Play, его нужно подписать, т. е. создать для вашего приложения сертификат. Проще всего это сделать с помощью утилиты keytool, которая находится в каталоге C:\Program Files\Java) jdk1.X.X_XX\bin (в подкаталоге bin каталога, в который вы установили JDK):

keytool -genkey -v-keystore c:\my_keys\app.keystore -alias my_android_app - storepass 123456 -keypass 111456 -keyalg RSA -validity 9125

Параметры утилиты keytool приведены в табл. 17.1 в порядке их указания в представленной команде.

Таблица 17.1. Параметры утилиты keytool


             
             
             
             

Утилита keytool задаст ряд вопросов, а затем вы увидите сообщение о том, что сертификат сгенерирован:

Generating 1,024 bit RSA key pair and self-signed certificate (SHAlwithRSA) with a validity of 9125 days for: CN-Den, OU-Dev, O-Home Ltd, L-Russia, ST-Unknown, C-RU [Storing c:\ keys\app.keystore]

Теперь у вас есть цифровой сертификат, которым вы можете подписать ваш АРК-файл. Для этого вам нужно использовать утилиту jarsigner: jarsigner -keystore c:\keys\app, keystore -storepass 123456
-keypass 111456 путь_к_apk_файлу my_android app

Давайте разберемся, что здесь есть что. Параметр keystore указывает путь к храни- лищу ключей. Мы договорились, что будем использовать файл ckeyslapp keystore. Затем указываются пароли к хранилищу и к приватному ключу. Следующий пара- метр - это путь к АРК-файлу вашего приложения, последний параметр - псевдо- ним, указанный при создании ключа.

Уже подписанный АРК-файл лучше всего передать программе zipalign для приве- дения несжатых данных в соответствие с границами памяти, что позволит оптими- зировать программу она будет быстрее выполняться. У процессоров Android-
